import Head from 'next/head'
import Link from "next/link";
import { useRouter } from "next/router";

import MainLayout from "layout/MainLayout/MainLayout";
import Title from "components/home/Title/Title";
import HomeItemList from "components/home/HomeItemList/HomeItemList";
import { homePlayListInfo, homeGameListInfo } from "lib/utils/constant";
import styles from './home.module.scss';

export default function Home() {
  const router = useRouter();
  console.log(router);

  (async function() {
    const data = { name: 'name1', message: 'message' };
    const response = await fetch(process.env.BASE_FETCH_URL + '/api/sheet', {
      method: 'POST',
      body: JSON.stringify(data),
      headers: {
        'Content-Type': 'application/json',
      },
    }).then((r) => r);
    console.log(response);
  }());

  return (
    <MainLayout title={"illusion"}>
      <Head>
        <title>ILLUSION</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href={"/favicon.ico"} />
      </Head>

      <Title title={'TIME X MUSIC'} direction={'left'} />
      <div className={styles.content__wrap}>
        <Link href={'#co1'}>
          <div className={styles.content}>
            <div className={styles.content__image} />
            <p>콘텐츠 제목 1</p>
          </div>
        </Link>
        <Link href={'#co2'}>
          <div className={styles.content}>
            <div className={styles.content__image} />
            <p>콘텐츠 제목 2</p>
          </div>
        </Link>
        <Link href={'#co3'}>
          <div className={styles.content}>
            <div className={styles.content__image} />
            <p>콘텐츠 제목 3</p>
          </div>
        </Link>
        <Link href={'#co4'}>
          <div className={styles.content}>
            <div className={styles.content__image} />
            <p>콘텐츠 제목 4</p>
          </div>
        </Link>
      </div>

      <Title title={'PLAYLIST'} direction={'right'} />
      <HomeItemList listInfo={homePlayListInfo} />

      <Title title={'GAME X TEST'} direction={'left'} />
      <HomeItemList listInfo={homeGameListInfo} borderRadius={50} />

      <button
        onClick={() => {
          router.push('/game');
        }}
      >
        게임 모음
      </button>
      <button
        onClick={() => {
          router.push('/write');
        }}
      >
        텍스트 에디터
      </button>
    </MainLayout>
  )
}
